graph TD
    A[用户请求下载历史/提交表单] --> B(浏览器发送 HTTP 请求 到 Flask 后端);
    B --> C(Flask 后端接收请求);
    C --> D(Flask: 使用 AES/RSA 解密用户数据<br/>(如邮箱));
    D --> E(Flask: 连接 MySQL 数据库);
    E --> F(Flask: 查询 DownloadHistory 表 (使用哈希邮件/文件名));
    F --> G(数据库返回记录);
    G --> H(Flask: 格式化结果);
    H --> I(Flask 发送结果到浏览器);