
## 5.3.2 修改密码测试 (Clerk账号系统)

### 测试用例表

| 编号 | 输入条件 | 预期结果 | 实际结果 |
|------|----------|----------|----------|
| 1 | 原密码：123456，新密码和确认密码一致 | 修改密码成功 | 修改密码成功 |
| 2 | 原密码：123456，新密码和确认密码不一致 | 修改密码失败 | 修改密码失败 |
| 3 | 原密码：123，新密码和确认密码一致 | 修改密码失败 | 修改密码失败 |
| 4 | 新密码不符合复杂度要求(如少于8字符) | 修改密码失败 | 修改密码失败 |
| 5 | 新密码与最近使用的密码相同 | 修改密码失败 | 修改密码失败 |
| 6 | 验证码输入错误 | 修改密码失败 | 修改密码失败 |
| 7 | 验证码过期 | 修改密码失败 | 修改密码失败 |
| 8 | 连续多次失败后尝试 | 账号暂时锁定 | 账号暂时锁定 |

```mermaid
stateDiagram-v2
    [*] --> 密码修改流程
    密码修改流程 --> 成功修改
    密码修改流程 --> 失败场景
    
    state 密码修改流程 {
        [*] --> 输入原密码
        输入原密码 --> 验证原密码 : 提交
        验证原密码 --> 输入新密码 : 验证通过
        验证原密码 --> 显示错误 : 验证失败
        输入新密码 --> 确认新密码 : 提交
        确认新密码 --> 完成修改 : 一致且符合要求
        确认新密码 --> 显示错误 : 不一致或不符合要求
    }

    state 成功修改 {
        用例1 --> 修改成功 : 正确原密码+有效新密码
    }

    state 失败场景 {
        用例2 --> 密码不一致 : 新密码与确认密码不同
        用例3 --> 原密码错误 : 错误的原密码
        用例4 --> 复杂度不足 : 新密码太简单
        用例5 --> 重复密码 : 与最近密码相同
        用例6 --> 验证码错误 : 输入错误验证码
        用例7 --> 验证码过期 : 使用过期验证码
        用例8 --> 账号锁定 : 多次失败尝试
    }
```